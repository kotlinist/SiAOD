#include <iostream>
#include <vector>

using namespace std;

const int SIZE = 8;
int solutionsCount = 0;

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∫–ª–µ—Ç–∫–∞ –ø–æ–¥ –∞—Ç–∞–∫–æ–π —Ñ–µ—Ä–∑–µ–π
bool isSafe(int row, int col, vector<int> position) {
    for (int i = 0; i < row; ++i) {
        if (position[i] == col || // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–æ–ª–±–µ—Ü
            position[i] - i == col - row || // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é –¥–∏–∞–≥–æ–Ω–∞–ª—å
            position[i] + i == col + row) // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–±–æ—á–Ω—É—é –¥–∏–∞–≥–æ–Ω–∞–ª—å
            return false;
    }
    return true;
}

// –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Ñ–µ—Ä–∑–µ–π –Ω–∞ –¥–æ—Å–∫–µ
void solve(int row, vector<int> position) {
    if (row == SIZE) {
        ++solutionsCount;
        cout << "–†–µ—à–µ–Ω–∏–µ " << solutionsCount << ":\n";
        for (int i = 0; i < SIZE; ++i) {
            for (int j = 0; j < SIZE; ++j) {
                if (position[i] == j)
                    cout << "üî¥  ";
                else
                    cout << "‚¨úÔ∏èÔ∏è  ";
            }
            cout << "\n";
        }
        cout << "\n";
        return;
    }

    for (int col = 0; col < SIZE; ++col) {
        if (isSafe(row, col, position)) {
            position[row] = col;
            solve(row + 1, position);
        }
    }
}

int main() {
    vector<int> position(SIZE);
    solve(0, position);
    cout << "–í—Å–µ–≥–æ —Ä–µ—à–µ–Ω–∏–π: " << solutionsCount << "\n";
    return 0;
}

//–≠—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É –æ –≤–æ—Å—å–º–∏ —Ñ–µ—Ä–∑—è—Ö, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥. –û–Ω–∞ –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Ñ–µ—Ä–∑—è –≤ –∫–∞–∂–¥–æ–π –∫–æ–ª–æ–Ω–∫–µ –∫–∞–∂–¥–æ–≥–æ —Ä—è–¥–∞ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∫–ª–µ—Ç–∫–∞ –ø–æ–¥ –∞—Ç–∞–∫–æ–π –¥—Ä—É–≥–∏—Ö —Ñ–µ—Ä–∑–µ–π. –ï—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ñ–µ—Ä–∑—è. –ö–æ–≥–¥–∞ —Ñ–µ—Ä–∑–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤–æ –≤—Å–µ—Ö –≤–æ—Å—å–º–∏ —Ä—è–¥–∞—Ö, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–æ–¥–∏—Ç —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω. –í –∫–æ–Ω—Ü–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç–∞–∫–∂–µ –≤—ã–≤–æ–¥–∏—Ç –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.